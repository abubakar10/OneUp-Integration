# MongoDB Atlas Setup Script

# This script helps you configure MongoDB Atlas for your OneUp Dashboard

echo "üóÑÔ∏è MongoDB Atlas Setup for OneUp Dashboard"
echo "=========================================="
echo ""

echo "üìã Prerequisites:"
echo "1. MongoDB Atlas account (https://www.mongodb.com/atlas)"
echo "2. Azure subscription"
echo "3. Your OneUp Dashboard code"
echo ""

echo "üöÄ Step-by-Step Setup:"
echo ""

echo "1Ô∏è‚É£ Create MongoDB Atlas Cluster:"
echo " ‚Ä¢ Go to https://cloud.mongodb.com/"
echo " ‚Ä¢ Click 'Build a Database'"
echo " ‚Ä¢ Choose 'M0 Sandbox' (Free tier)"
echo " ‚Ä¢ Select AWS provider"
echo " ‚Ä¢ Choose US East (N. Virginia) region"
echo " ‚Ä¢ Click 'Create Cluster'"
echo ""

echo "2Ô∏è‚É£ Configure Database Access:"
echo " ‚Ä¢ Go to 'Database Access' ‚Üí 'Add New Database User'"
echo " ‚Ä¢ Authentication Method: Password"
echo " ‚Ä¢ Username: oneup_dashboard_user"
echo " ‚Ä¢ Password: [Generate strong password]"
echo " ‚Ä¢ Database User Privileges: 'Read and write to any database'"
echo " ‚Ä¢ Click 'Add User'"
echo ""

echo "3Ô∏è‚É£ Configure Network Access:"
echo " ‚Ä¢ Go to 'Network Access' ‚Üí 'Add IP Address'"
echo " ‚Ä¢ Click 'Allow Access from Anywhere' (0.0.0.0/0)"
echo " ‚Ä¢ Click 'Confirm'"
echo ""

echo "4Ô∏è‚É£ Get Connection String:"
echo " ‚Ä¢ Go to 'Clusters' ‚Üí Click 'Connect'"
echo " ‚Ä¢ Choose 'Connect your application'"
echo " ‚Ä¢ Copy the connection string"
echo " ‚Ä¢ Replace <password> with your actual password"
echo ""

echo "5Ô∏è‚É£ Update Azure App Service Configuration:"
echo " ‚Ä¢ Go to Azure Portal ‚Üí App Services ‚Üí oneup-dashboard-api"
echo " ‚Ä¢ Go to Configuration ‚Üí Application settings"
echo " ‚Ä¢ Add: ConnectionStrings**MongoDB = [your-connection-string]"
echo " ‚Ä¢ Add: MongoDB**DatabaseName = OneUpDashboard"
echo " ‚Ä¢ Click 'Save'"
echo ""

echo "‚úÖ MongoDB Atlas Setup Complete!"
echo ""
echo "üîó Useful Links:"
echo "‚Ä¢ MongoDB Atlas Dashboard: https://cloud.mongodb.com/"
echo "‚Ä¢ Azure Portal: https://portal.azure.com/"
echo "‚Ä¢ OneUp Dashboard Deployment Guide: ./AZURE_DEPLOYMENT_GUIDE.md"
echo ""

echo "üìä Database Collections Created Automatically:"
echo "‚Ä¢ invoices - Stores invoice data"
echo "‚Ä¢ employees - Stores employee/salesperson data"
echo "‚Ä¢ synclogs - Stores sync operation logs"
echo ""

echo "üîç Monitoring Your Database:"
echo "‚Ä¢ Go to MongoDB Atlas ‚Üí Monitoring"
echo "‚Ä¢ Set up alerts for performance and usage"
echo "‚Ä¢ Monitor connection count and query performance"
echo ""

echo "üõ†Ô∏è Troubleshooting:"
echo "‚Ä¢ Connection issues: Check network access settings"
echo "‚Ä¢ Authentication errors: Verify username/password"
echo "‚Ä¢ Performance issues: Check query patterns in Monitoring"
echo ""

echo "üìû Support:"
echo "‚Ä¢ MongoDB Atlas Documentation: https://docs.atlas.mongodb.com/"
echo "‚Ä¢ MongoDB Community: https://community.mongodb.com/"
echo "‚Ä¢ Azure Support: https://azure.microsoft.com/en-us/support/"
